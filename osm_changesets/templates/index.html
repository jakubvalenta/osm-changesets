<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>OpenStreetMap Changesets</title>
    <meta
      name="description"
      content="A website that shows changests by an OpenStreetMap user with map images."
    />
  </head>
  <body>
    <h1>OpenStreetMap Changests</h1>
    <p>
      This website shows changests by an OpenStreetMap user with map images. See
      an
      <a href="{% url 'user-detail' pk=4151758 %}">example</a>.
    </p>
    <p>
      It also provides an RSS/Atom feed, which is refreshed everytime your feed
      reader polls it but not more often than once per hour. See an
      <a href="{% url 'user-feed-rss' pk=4151758 %}">example RSS feed</a>.
    </p>
    <form method="post">
      {% csrf_token %} {{ create_form }}
      <input type="submit" name="create" value="Show changesets" />
    </form>
    <form method="post">
      {% csrf_token %} {{ find_form }}
      <input type="submit" name="find" value="Find user" />
    </form>
    {% if found_users %}
    <ul>
      {% for found_user in found_users %}
      <li>
        {{ found_user.user_names|join:", " }} ({{ found_user.uid }})
        <form method="post">
          {% csrf_token %}
          <input type="hidden" name="uid" value="{{ found_user.uid }}" />
          <input type="submit" name="create" value="Show changesets" />
        </form>
      </li>
      {% endfor %}
    </ul>
    {% endif %}
    <footer>
      2024
      <a href="https://www.jakubvalenta.cz/" target="blank">Jakub Valenta</a>,
      <a href="https://github.com/jakubvalenta/osm-changesets" target="blank"
        >code</a
      >, search powered by
      <a href="https://whosthat.osmz.ru/" target="blank">whosthat.osmz.ru</a>
    </footer>
  </body>
</html>
